build-job-domains-metadata:
  docker:
    - image: docker:stable-git
  steps:
    - checkout
    - compare-branch:
        pattern: ^jobs/domains-metadata/
    - setup_remote_docker:
        version: 19.03.13
    - run:
        name: Build Docker image
        command: docker build -t app:build jobs/domains-metadata/
    - run:
        name: Lint Code
        command: |
          docker run app:build flake8
          docker run app:build black .
